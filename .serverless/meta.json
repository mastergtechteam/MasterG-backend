{
  "/Applications/MAMP/htdocs/MasterG/node-express-mongodb/serverless.yml": {
    "versionFramework": "4.31.2",
    "servicePath": "/Applications/MAMP/htdocs/MasterG/node-express-mongodb/serverless.yml",
    "serviceConfigFileName": "serverless.yml",
    "service": {
      "service": "master-g-api",
      "frameworkVersion": "4",
      "provider": {
        "name": "aws",
        "runtime": "nodejs18.x",
        "stage": "dev",
        "region": "ap-south-1",
        "memorySize": 128,
        "logRetentionInDays": 1,
        "environment": {
          "TASKS_TABLE": "master-g-api-tasks-dev",
          "AWS_NODEJS_CONNECTION_REUSE_ENABLED": 1
        },
        "iam": {
          "role": {
            "statements": [
              {
                "Effect": "Allow",
                "Action": [
                  "dynamodb:Scan",
                  "dynamodb:PutItem",
                  "dynamodb:UpdateItem"
                ],
                "Resource": "*"
              }
            ]
          }
        },
        "httpApi": {
          "authorizers": {
            "tokenAuth": "<REDACTED>"
          }
        }
      },
      "functions": {
        "tokenAuthrizer": "<REDACTED>",
        "getTasks": {
          "handler": "src/handlers/getTask.handler",
          "events": [
            {
              "httpApi": {
                "path": "/tasks",
                "method": "get",
                "authorizer": "tokenAuth"
              }
            }
          ]
        },
        "createTask": {
          "handler": "src/handlers/createTask.handler",
          "events": [
            {
              "httpApi": {
                "path": "/tasks",
                "method": "post",
                "authorizer": "tokenAuth"
              }
            }
          ]
        },
        "updateTask": {
          "handler": "src/handlers/updateTask.handler",
          "events": [
            {
              "httpApi": {
                "path": "/tasks/{id}",
                "method": "put",
                "authorizer": "tokenAuth"
              }
            }
          ]
        }
      },
      "resources": {
        "Resources": {
          "TasksTable": "${file(resources/TasksTable.yml):TasksTable}",
          "CognitoUserPool": "${file(resources/Cognito.yml):CognitoUserPool}",
          "CognitoUserPoolClient": "${file(resources/Cognito.yml):CognitoUserPoolClient}",
          "CognitoUserPoolDomain": "${file(resources/Cognito.yml):CognitoUserPoolDomain}"
        }
      },
      "plugins": [
        "serverless-offline",
        "serverless-plugin-include-dependencies"
      ],
      "custom": "COGNITO_USER_POOL_ID:!Ref CognitoUserPool COGNITO_USER_POOL_CLIENT_ID:!Ref CognitoUserPoolClient"
    },
    "provider": {
      "name": "aws",
      "runtime": "nodejs18.x",
      "stage": "dev",
      "region": "ap-south-1",
      "memorySize": 128,
      "logRetentionInDays": 1,
      "environment": {
        "TASKS_TABLE": "master-g-api-tasks-dev",
        "AWS_NODEJS_CONNECTION_REUSE_ENABLED": 1
      },
      "iam": {
        "role": {
          "statements": [
            {
              "Effect": "Allow",
              "Action": [
                "dynamodb:Scan",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem"
              ],
              "Resource": "*"
            }
          ]
        }
      },
      "httpApi": {
        "authorizers": {
          "tokenAuth": "<REDACTED>"
        }
      }
    },
    "dashboard": {
      "isEnabledForService": false,
      "requiredAuthentication": false,
      "orgFeaturesInUse": null,
      "orgObservabilityIntegrations": null,
      "serviceAppId": null,
      "serviceProvider": null,
      "instanceParameters": null
    },
    "error": {
      "message": "Cannot resolve '${self:custom.COGNITO_USER_POOL_CLIENT_ID}' variable at 'provider.httpApi.authorizers.tokenAuth.jwtCognitoAuthrizer.audience'. No value is available for this variable, and no default value was provided. Please check your variable definitions or provide a default value.",
      "stack": "Error: Cannot resolve '${self:custom.COGNITO_USER_POOL_CLIENT_ID}' variable at 'provider.httpApi.authorizers.tokenAuth.jwtCognitoAuthrizer.audience'. No value is available for this variable, and no default value was provided. Please check your variable definitions or provide a default value.\n    at _ResolverManager.resolve (file:///Users/neerajtetaree/.serverless/releases/4.31.2/package/dist/sf-core.js:925:32358)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async #handlePlaceholderNode (file:///Users/neerajtetaree/.serverless/releases/4.31.2/package/dist/sf-core.js:925:30536)\n    at async file:///Users/neerajtetaree/.serverless/releases/4.31.2/package/dist/sf-core.js:925:28380\n    at async processNodeAndHandleCompletion (file:///Users/neerajtetaree/.serverless/releases/4.31.2/package/dist/sf-core.js:925:16765)",
      "code": "MISSING_VARIABLE_RESULT"
    },
    "serviceRawFile": "service: master-g-api\n\nframeworkVersion: '4'\n\nprovider:\n  name: aws\n  runtime: nodejs18.x\n  stage: ${opt:stage, 'dev'}\n  region: ${opt:region, 'ap-south-1'}\n  memorySize: 128\n  logRetentionInDays: 1\n\n  environment:\n    TASKS_TABLE: master-g-api-tasks-${self:provider.stage}\n    AWS_NODEJS_CONNECTION_REUSE_ENABLED: 1\n\n  iam:\n    role:\n      statements:\n        - Effect: Allow\n          Action:\n            - dynamodb:Scan\n            - dynamodb:PutItem\n            - dynamodb:UpdateItem\n          Resource: \"*\"\n\n  httpApi:\n    authorizers:\n      tokenAuth:\n        type: request\n        identitySource: $request.header.authorization\n        functionName: tokenAuthrizer\n\n        jwtCognitoAuthrizer:\n          type: jwt\n          identitySource: $request.header.Authorization\n          audience: ${self:custom.COGNITO_USER_POOL_CLIENT_ID}\n          issuer: https://cognito-idp.${self:provider.region}.amazonaws.com/${self:custom.cognitoUserPoolId}\n\nfunctions:\n\n  tokenAuthrizer:\n    handler: src/authorizers/tokenAuthorizer.handler\n\n  getTasks:\n    handler: src/handlers/getTask.handler\n    events:\n      - httpApi:\n          path: /tasks\n          method: get\n          authorizer: tokenAuth\n\n  createTask:\n    handler: src/handlers/createTask.handler\n    events:\n      - httpApi:\n          path: /tasks\n          method: post\n          authorizer: tokenAuth\n\n  updateTask:\n    handler: src/handlers/updateTask.handler\n    events:\n      - httpApi:\n          path: /tasks/{id}\n          method: put\n          authorizer: tokenAuth\n\nresources:\n  Resources:\n    TasksTable: ${file(resources/TasksTable.yml):TasksTable}\n    CognitoUserPool: ${file(resources/Cognito.yml):CognitoUserPool}\n    CognitoUserPoolClient: ${file(resources/Cognito.yml):CognitoUserPoolClient}\n    CognitoUserPoolDomain: ${file(resources/Cognito.yml):CognitoUserPoolDomain}\n\nplugins:\n  - serverless-offline\n  - serverless-plugin-include-dependencies\n\ncustom:\n  COGNITO_USER_POOL_ID:!Ref CognitoUserPool\n  COGNITO_USER_POOL_CLIENT_ID:!Ref CognitoUserPoolClient",
    "command": [
      "deploy"
    ],
    "options": {
      "verbose": true
    },
    "orgId": "e6766511-ceb9-4661-88a7-1450c867a46b",
    "orgName": "neerajtetaree",
    "userId": "6q2vCZ6ksDXk1dXVQd",
    "userName": "neerajtetaree",
    "serviceProviderAwsCfStackId": "arn:aws:cloudformation:ap-south-1:724390852787:stack/master-g-api-dev/d0aa0400-fc7d-11f0-9968-068dd5a3b74f",
    "serviceProviderAwsCfStackCreated": "2026-01-28T19:16:15.713Z",
    "serviceProviderAwsCfStackUpdated": "2026-01-31T11:33:09.582Z",
    "serviceProviderAwsCfStackStatus": "UPDATE_COMPLETE",
    "serviceProviderAwsCfStackOutputs": [
      {
        "OutputKey": "GetTasksLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:ap-south-1:724390852787:function:master-g-api-dev-getTasks:20",
        "Description": "Current Lambda function version",
        "ExportName": "sls-master-g-api-dev-GetTasksLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "UpdateTaskLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:ap-south-1:724390852787:function:master-g-api-dev-updateTask:20",
        "Description": "Current Lambda function version",
        "ExportName": "sls-master-g-api-dev-UpdateTaskLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "CreateTaskLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:ap-south-1:724390852787:function:master-g-api-dev-createTask:20",
        "Description": "Current Lambda function version",
        "ExportName": "sls-master-g-api-dev-CreateTaskLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "TokenAuthrizerLambdaFunctionQualifiedArn",
        "OutputValue": "arn:aws:lambda:ap-south-1:724390852787:function:master-g-api-dev-tokenAuthrizer:11",
        "Description": "Current Lambda function version",
        "ExportName": "sls-master-g-api-dev-TokenAuthrizerLambdaFunctionQualifiedArn"
      },
      {
        "OutputKey": "HttpApiId",
        "OutputValue": "eoylgi3jhd",
        "Description": "Id of the HTTP API",
        "ExportName": "sls-master-g-api-dev-HttpApiId"
      },
      {
        "OutputKey": "ServerlessDeploymentBucketName",
        "OutputValue": "serverless-framework-deployments-ap-south-1-e9b5fdaf-fa48",
        "ExportName": "sls-master-g-api-dev-ServerlessDeploymentBucketName"
      },
      {
        "OutputKey": "HttpApiUrl",
        "OutputValue": "https://eoylgi3jhd.execute-api.ap-south-1.amazonaws.com",
        "Description": "URL of the HTTP API",
        "ExportName": "sls-master-g-api-dev-HttpApiUrl"
      }
    ]
  }
}